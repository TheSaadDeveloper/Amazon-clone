{"ast":null,"code":"import _slicedToArray from\"D:\\\\Coding Stuff\\\\My_Projects\\\\CleverProgrammer_Projects\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from'react';import{db}from'./firebase';import Order from'./Order';import'./Orders.css';import{useStateValue}from'./StateProvider';function Orders(){var _useStateValue=useStateValue(),_useStateValue2=_slicedToArray(_useStateValue,2),_useStateValue2$=_useStateValue2[0],basket=_useStateValue2$.basket,user=_useStateValue2$.user,dispatch=_useStateValue2[1];var _useState=useState([]),_useState2=_slicedToArray(_useState,2),orders=_useState2[0],setOrders=_useState2[1];useEffect(function(){if(user){db.collection('users').doc(user===null||user===void 0?void 0:user.uid).collection('orders').orderBy('created','desc').onSnapshot(function(snapshot){setOrders(snapshot.docs.map(function(doc){return{id:doc.id,data:doc.data()};}));});}else{setOrders([]);}},[user]);return/*#__PURE__*/React.createElement(\"div\",{className:\"orders\"},/*#__PURE__*/React.createElement(\"h1\",null,\"Your Orders\"),/*#__PURE__*/React.createElement(\"div\",{className:\"order__order\"},orders===null||orders===void 0?void 0:orders.map(function(order){return/*#__PURE__*/React.createElement(Order,{order:order});})));}export default Orders;","map":{"version":3,"sources":["D:/Coding Stuff/My_Projects/CleverProgrammer_Projects/amazon-clone/src/Orders.js"],"names":["React","useEffect","useState","db","Order","useStateValue","Orders","basket","user","dispatch","orders","setOrders","collection","doc","uid","orderBy","onSnapshot","snapshot","docs","map","id","data","order"],"mappings":"kMAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,EAAT,KAAmB,YAAnB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAO,cAAP,CACA,OAASC,aAAT,KAA8B,iBAA9B,CAEA,QAASC,CAAAA,MAAT,EAAkB,oBACoBD,aAAa,EADjC,sFACNE,MADM,kBACNA,MADM,CACEC,IADF,kBACEA,IADF,CACQC,QADR,kCAEeP,QAAQ,CAAC,EAAD,CAFvB,wCAEPQ,MAFO,eAEEC,SAFF,eAIdV,SAAS,CAAC,UAAM,CACZ,GAAGO,IAAH,CAAQ,CACJL,EAAE,CAACS,UAAH,CAAc,OAAd,EACHC,GADG,CACCL,IADD,SACCA,IADD,iBACCA,IAAI,CAAEM,GADP,EAEHF,UAFG,CAEQ,QAFR,EAGHG,OAHG,CAGK,SAHL,CAGe,MAHf,EAIHC,UAJG,CAIQ,SAAAC,QAAQ,CAAG,CACnBN,SAAS,CAACM,QAAQ,CAACC,IAAT,CAAcC,GAAd,CAAkB,SAAAN,GAAG,QAAI,CAC/BO,EAAE,CAACP,GAAG,CAACO,EADwB,CAE/BC,IAAI,CAACR,GAAG,CAACQ,IAAJ,EAF0B,CAAJ,EAArB,CAAD,CAAT,CAIH,CATG,EAUP,CAXG,IAWC,CACDV,SAAS,CAAC,EAAD,CAAT,CACH,CACA,CAfQ,CAeN,CAACH,IAAD,CAfM,CAAT,CAgBA,mBACI,2BAAK,SAAS,CAAC,QAAf,eACI,4CADJ,cAEI,2BAAK,SAAS,CAAC,cAAf,EACKE,MADL,SACKA,MADL,iBACKA,MAAM,CAAES,GAAR,CAAY,SAAAG,KAAK,qBACd,oBAAC,KAAD,EAAO,KAAK,CAAEA,KAAd,EADc,EAAjB,CADL,CAFJ,CADJ,CAWH,CAED,cAAehB,CAAAA,MAAf","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { db } from './firebase';\r\nimport Order from './Order';\r\nimport './Orders.css';\r\nimport { useStateValue } from './StateProvider';\r\n\r\nfunction Orders() {\r\n    const [{basket, user},dispatch] = useStateValue();\r\n    const [orders , setOrders] = useState([]);\r\n\r\n    useEffect(() => {\r\n        if(user){\r\n            db.collection('users')\r\n        .doc(user?.uid)\r\n        .collection('orders')\r\n        .orderBy('created','desc')\r\n        .onSnapshot(snapshot =>{\r\n            setOrders(snapshot.docs.map(doc =>({\r\n                id:doc.id,\r\n                data:doc.data()\r\n            })));\r\n        })\r\n    }else{\r\n        setOrders([]);\r\n    }\r\n    }, [user]);\r\n    return (\r\n        <div className=\"orders\">\r\n            <h1>Your Orders</h1>\r\n            <div className=\"order__order\">\r\n                {orders?.map(order=>(\r\n                    <Order order={order}/>\r\n                ))\r\n                }\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Orders\r\n"]},"metadata":{},"sourceType":"module"}