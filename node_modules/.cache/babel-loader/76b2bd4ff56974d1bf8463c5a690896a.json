{"ast":null,"code":"import _toConsumableArray from\"D:\\\\Coding Stuff\\\\My_Projects\\\\CleverProgrammer_Projects\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\Coding Stuff\\\\My_Projects\\\\CleverProgrammer_Projects\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";export var initialState={basket:[],user:null};// this is called Selector\nexport var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(product,totalPrice){return Number(totalPrice.price)+Number(product);},0);};var reducer=function reducer(state,action){switch(action.type){case'ADD_TO_BASKET':return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case\"REMOVE_FROM_BASKET\":// ? this gets you the current index you are in using the findIndex\nvar index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});var newBasket=_toConsumableArray(state.basket);if(index>=0){newBasket.splice(index,1);}else{console.warn('Cant remove product (id : ${action.id}) as its not in basket !');}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});case\"SET_USER\":return _objectSpread(_objectSpread({},state),{},{user:action.user});default:return state;}};export default reducer;","map":{"version":3,"sources":["D:/Coding Stuff/My_Projects/CleverProgrammer_Projects/amazon-clone/src/reducer.js"],"names":["initialState","basket","user","getBasketTotal","reduce","product","totalPrice","Number","price","reducer","state","action","type","item","index","findIndex","basketItem","id","newBasket","splice","console","warn"],"mappings":"2YAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CACxBC,MAAM,CAAC,EADiB,CAExBC,IAAI,CAAC,IAFmB,CAArB,CAKP;AAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACF,MAAD,QAC1BA,CAAAA,MAD0B,SAC1BA,MAD0B,iBAC1BA,MAAM,CAAEG,MAAR,CAAe,SAACC,OAAD,CAASC,UAAT,QAAuBC,CAAAA,MAAM,CAACD,UAAU,CAACE,KAAZ,CAAN,CAA2BD,MAAM,CAACF,OAAD,CAAxD,EAAf,CAAmF,CAAnF,CAD0B,EAAvB,CAIP,GAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAkB,CAC9B,OAAOA,MAAM,CAACC,IAAd,EACI,IAAK,eAAL,CACA,sCACOF,KADP,MAEIT,MAAM,8BAAKS,KAAK,CAACT,MAAX,GAAmBU,MAAM,CAACE,IAA1B,EAFV,GAKA,IAAK,oBAAL,CACI;AACA,GAAMC,CAAAA,KAAK,CAAGJ,KAAK,CAACT,MAAN,CAAac,SAAb,CACV,SAACC,UAAD,QAAgBA,CAAAA,UAAU,CAACC,EAAX,GAAkBN,MAAM,CAACM,EAAzC,EADU,CAAd,CAIA,GAAIC,CAAAA,SAAS,oBAAOR,KAAK,CAACT,MAAb,CAAb,CAEA,GAAGa,KAAK,EAAI,CAAZ,CAAc,CACVI,SAAS,CAACC,MAAV,CAAiBL,KAAjB,CAAuB,CAAvB,EACH,CAFD,IAEK,CACDM,OAAO,CAACC,IAAR,CACI,gEADJ,EAGH,CAED,sCACOX,KADP,MAEIT,MAAM,CAACiB,SAFX,GAKJ,IAAK,UAAL,CACI,sCACOR,KADP,MAEIR,IAAI,CAACS,MAAM,CAACT,IAFhB,GAKJ,QACI,MAAOQ,CAAAA,KAAP,CAnCR,CAqCH,CAtCD,CAwCA,cAAeD,CAAAA,OAAf","sourcesContent":["export const initialState = {\r\n    basket:[],\r\n    user:null\r\n}\r\n\r\n// this is called Selector\r\n\r\nexport const getBasketTotal = (basket) =>\r\n    basket?.reduce((product,totalPrice)=> Number(totalPrice.price) + Number(product) , 0);\r\n\r\n\r\nconst reducer = (state, action) =>{\r\n    switch(action.type){\r\n        case 'ADD_TO_BASKET':\r\n        return {\r\n            ...state,\r\n            basket:[...state.basket ,action.item],\r\n        };\r\n\r\n        case \"REMOVE_FROM_BASKET\":\r\n            // ? this gets you the current index you are in using the findIndex\r\n            const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.id === action.id\r\n            );\r\n\r\n            let newBasket = [...state.basket];\r\n\r\n            if(index >= 0){\r\n                newBasket.splice(index,1);\r\n            }else{\r\n                console.warn(\r\n                    'Cant remove product (id : ${action.id}) as its not in basket !'\r\n                )\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                basket:newBasket\r\n            }\r\n\r\n        case \"SET_USER\":\r\n            return {\r\n                ...state,\r\n                user:action.user\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};  \r\n\r\nexport default reducer"]},"metadata":{},"sourceType":"module"}