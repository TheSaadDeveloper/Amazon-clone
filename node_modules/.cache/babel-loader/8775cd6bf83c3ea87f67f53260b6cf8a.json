{"ast":null,"code":"import _toConsumableArray from\"D:\\\\Coding Stuff\\\\My_Projects\\\\CleverProgrammer_Projects\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"D:\\\\Coding Stuff\\\\My_Projects\\\\CleverProgrammer_Projects\\\\amazon-clone\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread2\";export var initialState={products:[],basket:[],user:null,searchTitle:null};// this is called Selector\nexport var getBasketTotal=function getBasketTotal(basket){return basket===null||basket===void 0?void 0:basket.reduce(function(product,totalPrice){return Number(totalPrice.price)+Number(product);},0);};var reducer=function reducer(state,action){switch(action.type){case'EMPTY_BASKET':return _objectSpread(_objectSpread({},state),{},{basket:[]});case'ALL_PRODUCTS':return _objectSpread(_objectSpread({},state),{},{products:[].concat(_toConsumableArray(state.products),[action.products])});case'ADD_TO_BASKET':return _objectSpread(_objectSpread({},state),{},{basket:[].concat(_toConsumableArray(state.basket),[action.item])});case\"REMOVE_FROM_BASKET\":// ? this gets you the current index you are in using the findIndex\nvar index=state.basket.findIndex(function(basketItem){return basketItem.id===action.id;});var newBasket=_toConsumableArray(state.basket);if(index>=0){newBasket.splice(index,1);}else{console.warn('Cant remove product as its not in basket !');}return _objectSpread(_objectSpread({},state),{},{basket:newBasket});case\"SET_USER\":return _objectSpread(_objectSpread({},state),{},{user:action.user});// ! Search Component\ncase\"SEARCH_VALUE\":return _objectSpread(_objectSpread({},state),{},{searchTitle:action.searchTitle});default:return state;}};export default reducer;","map":{"version":3,"sources":["D:/Coding Stuff/My_Projects/CleverProgrammer_Projects/amazon-clone/src/reducer.js"],"names":["initialState","products","basket","user","searchTitle","getBasketTotal","reduce","product","totalPrice","Number","price","reducer","state","action","type","item","index","findIndex","basketItem","id","newBasket","splice","console","warn"],"mappings":"2YAAA,MAAO,IAAMA,CAAAA,YAAY,CAAG,CACxBC,QAAQ,CAAC,EADe,CAExBC,MAAM,CAAC,EAFiB,CAGxBC,IAAI,CAAC,IAHmB,CAIxBC,WAAW,CAAC,IAJY,CAArB,CAOP;AAEA,MAAO,IAAMC,CAAAA,cAAc,CAAG,QAAjBA,CAAAA,cAAiB,CAACH,MAAD,QAC1BA,CAAAA,MAD0B,SAC1BA,MAD0B,iBAC1BA,MAAM,CAAEI,MAAR,CAAe,SAACC,OAAD,CAASC,UAAT,QAAuBC,CAAAA,MAAM,CAACD,UAAU,CAACE,KAAZ,CAAN,CAA2BD,MAAM,CAACF,OAAD,CAAxD,EAAf,CAAmF,CAAnF,CAD0B,EAAvB,CAIP,GAAMI,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,KAAD,CAAQC,MAAR,CAAkB,CAC9B,OAAOA,MAAM,CAACC,IAAd,EAEI,IAAK,cAAL,CACI,sCACOF,KADP,MAEIV,MAAM,CAAC,EAFX,GAKJ,IAAK,cAAL,CACI,sCACOU,KADP,MAEIX,QAAQ,8BAAKW,KAAK,CAACX,QAAX,GAAqBY,MAAM,CAACZ,QAA5B,EAFZ,GAKJ,IAAK,eAAL,CACA,sCACOW,KADP,MAEIV,MAAM,8BAAKU,KAAK,CAACV,MAAX,GAAmBW,MAAM,CAACE,IAA1B,EAFV,GAKA,IAAK,oBAAL,CACI;AACA,GAAMC,CAAAA,KAAK,CAAGJ,KAAK,CAACV,MAAN,CAAae,SAAb,CACV,SAACC,UAAD,QAAgBA,CAAAA,UAAU,CAACC,EAAX,GAAkBN,MAAM,CAACM,EAAzC,EADU,CAAd,CAIA,GAAIC,CAAAA,SAAS,oBAAOR,KAAK,CAACV,MAAb,CAAb,CAEA,GAAGc,KAAK,EAAI,CAAZ,CAAc,CACVI,SAAS,CAACC,MAAV,CAAiBL,KAAjB,CAAuB,CAAvB,EACH,CAFD,IAEK,CACDM,OAAO,CAACC,IAAR,CACI,4CADJ,EAGH,CAED,sCACOX,KADP,MAEIV,MAAM,CAACkB,SAFX,GAKJ,IAAK,UAAL,CACI,sCACOR,KADP,MAEIT,IAAI,CAACU,MAAM,CAACV,IAFhB,GAKJ;AAEA,IAAK,cAAL,CACI,sCACOS,KADP,MAEIR,WAAW,CAACS,MAAM,CAACT,WAFvB,GAKJ,QACI,MAAOQ,CAAAA,KAAP,CAxDR,CA0DH,CA3DD,CA6DA,cAAeD,CAAAA,OAAf","sourcesContent":["export const initialState = {\r\n    products:[],\r\n    basket:[],\r\n    user:null,\r\n    searchTitle:null\r\n}\r\n\r\n// this is called Selector\r\n\r\nexport const getBasketTotal = (basket) =>\r\n    basket?.reduce((product,totalPrice)=> Number(totalPrice.price) + Number(product) , 0);\r\n\r\n\r\nconst reducer = (state, action) =>{\r\n    switch(action.type){\r\n\r\n        case 'EMPTY_BASKET':\r\n            return {\r\n                ...state,\r\n                basket:[]\r\n            }\r\n\r\n        case 'ALL_PRODUCTS':\r\n            return{\r\n                ...state,\r\n                products:[...state.products, action.products]\r\n            };\r\n\r\n        case 'ADD_TO_BASKET':\r\n        return {\r\n            ...state,\r\n            basket:[...state.basket ,action.item]\r\n        };\r\n\r\n        case \"REMOVE_FROM_BASKET\":\r\n            // ? this gets you the current index you are in using the findIndex\r\n            const index = state.basket.findIndex(\r\n                (basketItem) => basketItem.id === action.id\r\n            );\r\n\r\n            let newBasket = [...state.basket];\r\n\r\n            if(index >= 0){\r\n                newBasket.splice(index,1);\r\n            }else{\r\n                console.warn(\r\n                    'Cant remove product as its not in basket !'\r\n                )\r\n            }\r\n\r\n            return {\r\n                ...state,\r\n                basket:newBasket\r\n            }\r\n\r\n        case \"SET_USER\":\r\n            return {\r\n                ...state,\r\n                user:action.user\r\n            }\r\n\r\n        // ! Search Component\r\n\r\n        case \"SEARCH_VALUE\":\r\n            return{\r\n                ...state,\r\n                searchTitle:action.searchTitle\r\n            }\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};  \r\n\r\nexport default reducer"]},"metadata":{},"sourceType":"module"}